<section class="cashflow-endpoint-documentation">
    <div class="wrapper-actions">
        <!-- <div class="go-back" (click)="redirectBack()" *ngIf="!fromAutoPilotCashflowComplete">
            <img src="images/back-arrow-left.svg" alt="back">back
        </div> -->
    <button class="btn-exposure-tbl" (click)="redirectToExposure()">Exposure table</button>
    </div>

    <div class="cashflow-integration-wrapper">
    <h3 class="title">Cash flow integration</h3>
        <p class="paragraph">Cash flow integration enables your system to send expected incoming and outgoing payment data to the FX360  engine.<br> This allows the platform to align hedging actions with real cash requirements, ensuring FX protection is applied only when needed.</p>
    </div>
    <div class="endpoints-header-wrapper" id="endpoint-wrapper">
        <div class="endpoints-header">
            <picture>
                <img src="images/park-connection-icon.svg" alt="connection-icon">
            </picture>
            <label class="title">Endpoints</label>
        </div>
        <div class="cta-options-wrapper">
            <button (click)="focusOnAuthSection()" class="cta-btn">Authentication</button>
            <button (click)="focusOnCashflowSection()" class="cta-btn">Create cashflow</button>
        </div>
    </div>
    <!-- Authentication API documentation section -->
    <div class="authentication-doc-wrapper auth-doc-first" id="authenticationDocSection" #authenticationDocSection>
        <div class="left-doc-wrapper">
            <div class="title-wrap">
                <h4 class="title mb-0">Authentication</h4>
            </div>
            <div class="params-container">
                <div class="url-section">
                    <div class="url-title">
                        <label class="title">URL</label>
                        <span class="type">POST</span>
                    </div>
                    <a class="link"
                        href="https://okoora-stage-api2023.azurewebsites.net/api/v1.0/Authentication/Authenticate" target="_blank">https://okoora-stage-api2023.azurewebsites.net/api/v1.0/Authentication/Authenticate</a>
                </div>
                <div class="headers-section">
                    <label class="title">Headers</label>
                    <div class="doc-content first-row">
                        <label class="label-head">Content-type</label>
                        <span class="span-head">application/json</span>
                    </div>
                    <div class="doc-content">
                        <label class="label-head">Client ID</label>
                        <div class="client-cred">
                            <div class="cred-wrapper">
                                <span class="id-value" id="clientId">{{ showClientsId ? clientsId : maskedClientsId }}</span>
                                <button class="hide-show-btn" [ngClass]="{ 'show': showClientsId }"
                                    (click)="showClientsId = !showClientsId">
                                </button>
                            </div>
                            <img src="images/copy-icon.svg" (click)="copyContent('clientId')" alt="copy" />
                        </div>
                    </div>
                    <div class="doc-content">
                        <label class="label-head">Client Secret</label>
                        <div class="client-cred">
                            <div class="cred-wrapper">
                                <span class="id-value" id="clientSecret">{{ showClientSecret ? clientSecret : maskedClientSecret }}</span>
                                <button class="hide-show-btn" [ngClass]="{ 'show': showClientSecret }"
                                    (click)="showClientSecret = !showClientSecret">
                                </button>
                            </div>
                            <img src="images/copy-icon.svg" (click)="copyContent('clientSecret')" alt="copy" />
                        </div>
                    </div>
                </div>
                <div class="parameters-section">
                    <label class="title">Parameters</label>
                    <div class="param-wrapper">
                        <div class="doc-content first-row">
                            <div class="params">
                                <label class="label-head">username</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info">Your main account email address</label>
                        <span class="param-type">String</span>
                        </div>
                        <div class="doc-content">
                            <div class="params">
                                <label class="label-head">password</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info">Your main account password</label>
                            <span class="param-type">String</span>
                        </div>
                    </div>
                </div>
                <div class="shell-example-section">
                    <div class="header-shell">
                        <div class="shell-left">
                            <h3 class="title">Example from shell</h3>
                            <img src="images/shell-icon.svg" alt="shell" />
                        </div>
                        <img src="images/copy-icon-w.svg" (click)="copyContent('authCode')" alt="copy" />
                    </div>
                    <div class="content-shell" id="authCode">
                        <label class="curl">curl</label> <span class="request"> --request </span> <span
                            class="post">POST</span> \
                        <p class="request">--url <span
                                class="default">'https://okoora-stage-api2023.azurewebsites.net/api/v1.0/Authentication/Authenticate'</span>
                            <span class="default"> \</span>
                        </p>
                        <p class="request">--header <span class="default">'Content-Type: application/json' \</span> </p>
                        <p class="request">--header <span class="default">'ClientId: Wltcy9uYW1laW'</span> </p>
                        <p class="request">--header <span class="default">'ClientSecret: Y2FsaG9zdDo0'</span> </p>
                        <p class="request">--data <span class="default">
                                '&#123;
                                <br> "username": "johndoea&#64;example.com",
                                <br> "password": "123456789" <br>
                                &#125;'</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-doc-wrapper">
            <div class="success-wrapper">
                <label class="title">Success response</label>
                <div class="response-content" id="authResponse">
                    &#123;
                    <br><label>&nbsp;&nbsp;&nbsp;"access_token"</label>: <span>"eyJhbGciOiJIUzI1...."</span>,
                    <br><label>&nbsp;&nbsp;&nbsp;"token_type"</label>: <span>"Bearer"</span>,
                    <br> &#125;
                    <img src="images/copy-icon-w.svg" (click)="copyContent('authResponse')" alt="copy" />
                </div>
            </div>
            <div class="failure-wrapper">
                <label class="title">Error responses</label>
                <div class="response-content">
                    <div class="res-wrapper">
                        <label>400 Bad Request</label>
                        <span>&nbsp;&nbsp;&nbsp;&#123;"error": "Missing 'username' or 'password'"&#125;</span>
                    </div>

                    <div class="res-wrapper">
                        <label>401 Unauthorized</label>
                        <span>&nbsp;&nbsp;&nbsp;&#123;"error": "Invalid credentials"&#125;</span>
                    </div>

                    <div class="res-wrapper">
                        <label>403 Forbidden</label>
                        <span class="mb-0">&nbsp;&nbsp;&nbsp;&#123;"error": "Invalid X-Client-Id or
                            X-Client-Secret"&#125;</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cashflow API documentation section-->
    <div class="cashflow-doc-wrapper" id="cashflowDocSection" #cashflowDocSection>
        <div class="left-doc-wrapper">
            <div class="title-wrap">
                <h4 class="title mb-0">Create cashflow</h4>
            </div>
            <div class="params-container">
                <div class="url-section">
                    <div class="url-title">
                        <label class="title">URL</label>
                        <span class="type">POST</span>
                    </div>
                    <a class="link"
                        href="https://okoora-stage-api2023.azurewebsites.net/api/ApiDeck/Cashflow" target="_blank">https://okoora-stage-api2023.azurewebsites.net/api/ApiDeck/Cashflow</a>
                </div>
                <div class="headers-section">
                    <label class="title">Headers</label>
                    <div class="doc-content first-row">
                        <label class="label-head">Content-type</label>
                        <span class="span-head">application/json</span>
                    </div>
                    <div class="doc-content">
                        <label class="label-head">Authorization</label>
                        <span class="span-head">Bearer token</span>
                    </div>
                </div>
                <div class="parameters-section">
                    <label class="title">Parameters</label>
                    <div class="param-wrapper">
                        <div class="doc-content first-row">
                            <div class="params">
                                <label class="label-head">records</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info">List of cash flow records</label>
                            <span class="param-type">Object</span>
                        </div>
                        <div class="doc-content">
                            <div class="params">
                                <label class="label-head">Currency</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info">3-letter ISO currency code (e.g., USD, EUR)</label>
                            <span class="param-type">String</span>
                        </div>
                        <div class="doc-content">
                            <div class="params">
                                <label class="label-head">Amount</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info">Decimal number, must be positive (e.g., 120.50)</label>
                            <span class="param-type">Double</span>
                        </div>
                        <div class="doc-content">
                            <div class="params">
                                <label class="label-head">type</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info type-wrap">one of:
                                <div class="type-dropdown">
                                    <mat-select placeholder="Select" panelClass="type-select-dropdown">
                                        <mat-option value="Interest">Interest</mat-option>
                                        <mat-option value="FX Gain">FX Gain</mat-option>
                                        <mat-option value="Rent">Rent</mat-option>
                                        <mat-option value="Dividends">Dividends</mat-option>
                                        <mat-option value="Grants">Grants</mat-option>
                                        <mat-option value="Commissions">Commissions</mat-option>
                                        <mat-option value="Refund">Refund</mat-option>
                                        <mat-option value="Asset Sale">Asset Sale</mat-option>
                                        <mat-option value="Salaries">Salaries</mat-option>
                                        <mat-option value="Taxes">Taxes</mat-option>
                                        <mat-option value="Bank Fees">Bank Fees</mat-option>
                                        <mat-option value="FX Loss">FX Loss</mat-option>
                                        <mat-option value="Loans">Loans</mat-option>
                                        <mat-option value="Marketing">Marketing</mat-option>
                                        <mat-option value="Travel">Travel</mat-option>
                                        <mat-option value="Software">Software</mat-option>
                                        <mat-option value="Services">Services</mat-option>
                                        <mat-option value="Equipment">Equipment</mat-option>
                                    </mat-select>
                                </div>
                            </label> <!-- will have mat-select -->
                            <span class="param-type">String</span>
                        </div>
                        <div class="doc-content">
                            <div class="params">
                                <label class="label-head">Due date</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info">in ISO 8601 format (YYYY-MM-DD), e.g., 2025-07-01</label>
                            <span class="param-type">String</span>
                        </div>
                        <div class="doc-content">
                            <div class="params">
                                <label class="label-head">direction</label>
                                <span class="required-err">required</span>
                            </div>
                            <label class="param-info">either BUY or SELL</label>
                            <span class="param-type">String</span>
                        </div>
                    </div>
                </div>
                <div class="shell-example-section">
                    <div class="header-shell">
                        <div class="shell-left">
                            <h3 class="title">Example from shell</h3>
                            <img src="images/shell-icon.svg" alt="shell" />
                        </div>
                        <img src="images/copy-icon-w.svg" (click)="copyContent('cashCode')" alt="copy" />
                    </div>
                    <div class="content-shell" id="cashCode">
                        <label class="curl">curl</label> <span class="request"> --request </span> <span
                            class="post">POST</span> \
                        <p class="request">--url <span
                                class="default">'https://okoora-stage-api2023.azurewebsites.net/api/ApiDeck/Cashflow'</span>
                            <span class="default"> \</span>
                        </p>
                        <p class="request">--header <span class="default">'Content-Type: application/json'</span> </p>
                        <p class="request">--header <span class="default">'Authorization: Bearer
                                eyJhbGciOiJIUzI..'</span> </p>
                        <p class="request">--data <span class="default">
                                '&#123;
                                <br>"records": [
                                <br>&nbsp;&nbsp;&nbsp;&#123; <br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"currency": "USD",<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"amount": 12500.75,<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"type": "Commissions",<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"dueDate": "2025-07-20",<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"direction": "BUY"<br>
                                &nbsp;&nbsp;&nbsp;&#125;<br>
                                &nbsp;&nbsp;&nbsp;&#123;<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"currency": "EUR",<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"amount": 1450.75,<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"type": "Rent",<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"dueDate": "2025-07-28",<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"direction": "SELL"<br>
                                &nbsp;&nbsp;&nbsp;&#125;<br>
                                &nbsp;&nbsp;&nbsp;]<br>
                                &#125;'
                            </span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-doc-wrapper">
            <div class="success-wrapper">
                <label class="title">Success response</label>
                <div class="response-content" id="cashResponse">
                    &#123;
                    <br><label>&nbsp;&nbsp;&nbsp;"status"</label>: <span>"success"</span>,
                    <br><label>&nbsp;&nbsp;&nbsp;"message"</label>: <span>"2 records saved successfully."</span>,
                    <br><label>&nbsp;&nbsp;&nbsp;"recordIds"</label>: <span>["csh_001", "csh_002"]</span>,
                    <br> &#125;
                    <img src="images/copy-icon-w.svg" (click)="copyContent('cashResponse')" alt="copy" />
                </div>
            </div>
            <div class="failure-wrapper">
                <label class="title">Error responses</label>
                <div class="response-content">
                    <div class="res-wrapper">
                        <label>400 Bad Request - Validation Error</label>
                        <span>&nbsp;&nbsp;&nbsp;&#123;"error": "Invalid 'type' value"&#125;</span>
                    </div>

                    <div class="res-wrapper">
                        <label>400 Bad Request – Format Error</label>
                        <span>&nbsp;&nbsp;&nbsp;&#123;"error": "dueDate must be in YYYY-MM-DD format"&#125;</span>
                    </div>

                    <div class="res-wrapper">
                        <label>401 Unauthorized</label>
                        <span>&nbsp;&nbsp;&nbsp;&#123;"error": "Unauthorized - invalid or expired access token"&#125;</span>
                    </div>

                    <div class="res-wrapper">
                        <label>403 Forbidden</label>
                        <span>&nbsp;&nbsp;&nbsp;&#123;"error": "Forbidden - invalid client credentials"&#125;</span>
                    </div>

                    <div class="res-wrapper">
                        <label>422 Unprocessable Entity – Business Rule Violation</label>
                        <span>&nbsp;&nbsp;&nbsp;&#123;"error": "Amount must be greater than 0"&#125;</span>
                    </div>

                    <div class="res-wrapper">
                        <label>500 Internal Server Error</label>
                        <span class="mb-0">&nbsp;&nbsp;&nbsp;&#123;"error": "Unexpected error occurred while processing
                            records"&#125;</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>