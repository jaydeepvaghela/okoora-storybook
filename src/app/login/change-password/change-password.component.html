<section class="auth-section">
    <div class="left-side">
        <div class="form-wrapper">
            <ng-container>
                <a class="back-btn" (click)="navigateToLogin()" id="back_to_login">
                    <mat-icon>chevron_left</mat-icon>
                    <span>Back</span>
                </a>
                <ng-container *ngIf="!needVerification">
                    <h3 class="heading">Reset password</h3>
                    <form #resetForm="ngForm" [formGroup]="resetPasswordForm" (ngSubmit)="changePassword()">
                        <ng-container>
                            <div class="password-instruction">
                                <p class="message">Password must contain</p>
                                <span class="detail">
                                    <mat-icon *ngIf="hasEight">check</mat-icon>
                                    <mat-icon *ngIf="!hasEight && resetPasswordForm.value.newPassword">close</mat-icon>
                                    <span>8 Letters</span>
                                </span>
                                <span class="detail">
                                    <mat-icon *ngIf="hasLower">check</mat-icon>
                                    <mat-icon *ngIf="!hasLower && resetPasswordForm.value.newPassword">close</mat-icon>
                                    <span>Lowercase</span>
                                </span>
                                <span class="detail">
                                    <mat-icon *ngIf="hasUpper">check</mat-icon>
                                    <mat-icon *ngIf="!hasUpper && resetPasswordForm.value.newPassword">close</mat-icon>
                                    <span>Uppercase</span>
                                </span>
                                <span class="detail">
                                    <mat-icon *ngIf="hasDigit">check</mat-icon>
                                    <mat-icon *ngIf="!hasDigit && resetPasswordForm.value.newPassword">close</mat-icon>
                                    <span>Number</span>
                                </span>
                                <span class="detail">
                                    <mat-icon
                                        *ngIf="hasSpecial && !resetPasswordForm.get('newPassword')?.hasError('invalidPassword')">check</mat-icon>
                                    <mat-icon
                                        *ngIf="((!hasSpecial || resetPasswordForm.get('newPassword')?.hasError('invalidPassword')) && resetPasswordForm.value.newPassword)">close</mat-icon>
                                    <span>Special letter</span>
                                </span>
                            </div>
                            <div class="form-group">
                                <label for="newPassword">New password</label>
                                <div class="input-wrapper">
                                    <input name="newPassword" class="form-control"
                                        [type]="hidePassword ? 'password' : 'text'" id="new_password"
                                        (keyup)="strongPasswordCheck()" formControlName="newPassword" required />
                                    <mat-icon class="eye-icon" matSuffix (click)="hidePassword = !hidePassword"
                                        id="show_hide_password">{{hidePassword ? 'visibility_off' :
                                        'visibility'}}</mat-icon>
                                </div>
                                <span
                                    *ngIf="resetForm.submitted && resetPasswordForm.controls.newPassword.hasError('required')"
                                    class="error-msg">required</span>
                                <span
                                    *ngIf="resetForm.submitted && !resetPasswordForm.controls.newPassword.hasError('required') && illegall"
                                    class="error-msg">
                                    Password is not valid
                                </span>
                                <span class="error-msg"
                                    *ngIf="hasSpecial && resetPasswordForm.get('newPassword')?.hasError('invalidPassword')">
                                    Special characters can be inserted !#$%^&*
                                </span>
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirm password</label>
                                <div class="input-wrapper">
                                    <input name="newPassword" class="form-control"
                                        [type]="hideConfPassword ? 'password' : 'text'" name="confirmPassword"
                                        formControlName="confirmPassword" id="confirm_password" required />
                                    <mat-icon class="eye-icon" id="confirm_show_password" matSuffix
                                        (click)="hideConfPassword = !hideConfPassword">{{hideConfPassword ?
                                        'visibility_off' :
                                        'visibility'}}</mat-icon>
                                </div>

                            </div>
                            <span
                                *ngIf="resetForm.submitted && resetPasswordForm.controls.confirmPassword.hasError('required') && !error"
                                class="error-msg">Confirm password</span>
                            <span
                                *ngIf="resetForm.submitted && (resetPasswordForm.value.confirmPassword != resetPasswordForm.value.newPassword)"
                                class="error-msg">Passwords do not match</span>
                            <span
                                *ngIf="!(resetForm.submitted && (resetPasswordForm.value.confirmPassword != resetPasswordForm.value.newPassword) && resetPasswordForm.controls.confirmPassword.valid) && error"
                                class="error-msg">{{ 'AUTHENTICATION_SEND_VERIFICATION_ERRORS.' + error | translate
                                }}</span>
                        </ng-container>

                        <button class="submit-btn" [class.disabled]="showLoader||error" [disabled]="showLoader"
                            id="button_send_email">Send SMS
                        </button>
                    </form>
                </ng-container>
            </ng-container>
        </div>
    </div>
    <div class="right-side">
        <div class="content">
            <img class="logo" src="images/abcm-logo.svg" alt="logo" />
            <h1 class="main-heading">The World's First</h1>
            <h2 class="sub-heading">Automated business currency management</h2>
        </div>
    </div>
</section>