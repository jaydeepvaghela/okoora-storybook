<form id="ss4-form" #stepOneForm [formGroup]="paymentRateForm" class="loader-wrapper">
  <div *ngIf="paymentType == 'future_payment'" class="stepper-body send-mony-stepper-slide-three">
    <div class="form-details">
      <h5 class="form-title">Lock rate & pay later</h5>
    </div>
    <div class="form-control-wrapper fp-lock-rate-wrapper">
      <div class="step-five-file-upload invoice-upload">
        <div class="send-file-upload-design">
          <div class="form-group supportedFiles">
            <label>Supported files: pdf, jpg, jpeg, png, gif</label>
          </div>
          <ngx-dropzone id="ss4-fp-iud"
            (change)="onFileSelect($event);" class="drop-zone"
            accept=".pdf, .gif, .jpg, .png, .jpeg"
            [maxFileSize]="10485760">
            <ngx-dropzone-label>
              <img src="images/uploadInvoice.svg" alt="uploadInvoice">
              <h6>Upload invoice file</h6>
              <p>Drag & drop files <br /> or <span class="browse">Browse</span></p>
            </ngx-dropzone-label>
            <div *ngIf="!maxFileSizeLimit">

              <ngx-dropzone-preview id="ss4-fp-iud-preview-{{i}}" class="drop-zone-preview"
                *ngFor="let f of files;let i=index" [removable]="true" (removed)="onFileChange(f)">
                <ngx-dropzone-label>
                  <img src="images/green-check.svg" alt="check">
                  <span class="FileUploadedSuccessfully">File uploaded successfully!</span>
                  <h6>{{ f.name }}</h6>
                  <p>Drag & drop files <br /> or <span class="browse">Browse</span></p>
                </ngx-dropzone-label>
              </ngx-dropzone-preview>
            </div>
          </ngx-dropzone>
          <span class="error-msg" *ngIf="errMsg"> {{errMsg}}</span>
        </div>
      </div>

      <div class="form-group">
        <label>Invoice No</label>
        <div class="date-picker">
          <input id="ss4-fp-invoice-no" type="text" class="form-control" formControlName="invoiceNumber" #invoiceNoInput
            (keydown)="validateInput($event)" (paste)="onPasteInvoiceNo($event)" matInput
            placeholder="Type invoice number (Optional)">
        </div>
      </div>

      <div class="form-group">
        <label>Comments</label>
        <div class="date-picker">
          <textarea id="ss4-fp-comment-area" (keydown)="validateInput($event)" (cut)="onCutInputValue($event)"
            (copy)="onCopyInputValue($event)" (paste)="onPasteInputValue($event)" class="form-control"
            formControlName="invoiceUploadComment" matInput placeholder="(Optional)" rows="4"></textarea>
        </div>
      </div>

      <div class="step-five-file-upload signature-pad">
        <div class="send-file-upload-design">
          <label>Add signature</label>
          <div id="ss4-fp-add-signature" (click)="signaturePopup()" class="drop-zone" *ngIf="!signImage && !isSigned">
            <div class="signature-new">
              <img src="images/signature.svg">
              <h6>Add your signature</h6>
              <p>To make the transaction you need to sign over the deal</p>
            </div>
          </div>
          <div *ngIf="signImage && isSigned" class="signature-image">
            <img id="ss4-fp-rm-signature" class="remove-signature"
              (click)="removeSignature()" src="images/close-dark-icon.svg"/>
            <img [src]="signImage" alt="signature">
          </div>
        </div>
      </div>
    </div>
    <div class="err-center-message mb-3" *ngIf="futurePaymentError">
      <span class="error-msg">{{ futurePaymentError }}</span>
    </div>
    <div class="stepper-action">
      <button id="ss4-fp-previous" class="previous-button" mat-icon-button matStepperPrevious
        (click)="previousStep(formStepper, formStepperProgress)"></button>
      <button id="ss4-fp-next" class="next-button" mat-button (click)="nextStep(formStepper, formStepperProgress)"
        [class.disabled]="!isSigned || !invoiceUploaded" [disabled]="!isSigned || !invoiceUploaded">Buy</button>
    </div>
  </div>
</form>